<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ูุนุจุฉ ุงููุบุงูุฑุฉ - ุงูุณูุฑุฉ</title>
    <style>
        body {
            font-family: "Tajawal", sans-serif;
            background-color: beige; /* Beige background */
            margin: 0;
            padding: 0;
            text-align: center;
            color: #1b5e20; /* Dark green text */
        }

        .container {
            padding: 40px;
            max-width: 700px;
            margin: auto;
        }

        h1 {
            color: #1b5e20; /* Dark green */
            margin-bottom: 25px;
            font-weight: 700;
        }

        .scenario {
            background-color: #fdf6e3; /* Light beige box */
            border: 2px solid #388e3c; /* Medium green border */
            border-radius: 12px;
            padding: 25px;
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .game-button {
            background-color: #388e3c; /* Medium green */
            color: beige; /* Beige text */
            padding: 12px 20px;
            font-size: 16px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
            text-decoration: none;
        }

        .game-button:hover {
            background-color: #2e7d32; /* Darker green on hover */
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>๐ ูุนุจุฉ ุงููุบุงูุฑุฉ - ุณูุฑุฉ ุงููุจู ๏ทบ</h1>
        <div id="game"></div>
    </div>

    <script>
        let choicesMade = []; // ูุณุฌูู ุงุฎุชูุงุฑุงุช ุงููุงุนุจ

        const scenarios = [
            { text: "ูก- ุชุจุฏุฃ ุงูุฏุนูุฉ ูู ููุฉ ุณุฑููุง ุจูู ุงูููุฑุจูู. ูู ุชูุถู ุณุฑููุง ุฅูู ุงููุณููููุ",
              choices: [{ text: "ูุนูุ ุฃูุถู", value: "joined" }, { text: "ูุงุ ุฃูุชุธุฑ ููููุงู", value: "waited" }] },

            { text: "ูข- ุฃุนููุช ุฅุณูุงูู ูุชูุงุฌู ุงุณุชูุฒุงุก ูุฑูุด. ูู ุชุตุจุฑ ุฃู ุชุจุญุซ ุนู ุญูุงูุฉุ",
              choices: [{ text: "ุฃุตุจุฑ ุนูู ุงูุฃุฐู", value: "sabr" }, { text: "ุฃุจุญุซ ุนู ุญูุงูุฉ", value: "protection" }] },

            { text: "ูฃ- ูุฒุฏุงุฏ ุงูุจูุงุก. ูุฏุนู ุงููุจู ๏ทบ ูููุฌุฑุฉ ุฅูู ุงูุญุจุดุฉ. ูู ุชูุงุฌุฑุ",
              choices: [{ text: "ุฃูุงุฌุฑ ุฅูู ุงูุญุจุดุฉ", value: "habasha" }, { text: "ุฃุจูู ูู ููุฉ", value: "makkah" }] },

            { text: "ูค- ูู ุงูุญุจุดุฉ ุชุฌุฏ ุนุฏู ุงููุฌุงุดู. ุจุนุฏ ูุฏุฉ ุชุนูุฏ ุฅูู ููุฉ ูุชุดุงุฑู ูู ุจูุนุฉ ุงูุนูุจุฉ.",
              choices: [{ text: "ุฃุจุงูุน ูุตุฑุฉ ุงูุฅุณูุงู", value: "bayah" }, { text: "ุฃุจูู ูุชุฑุฏุฏูุง", value: "no_bayah" }] },

            { text: "ูฅ- ุชุชู ุจูุนุฉ ุงูุนูุจุฉ ูู ูููุ ููุฃุฐู ุงููุจู ๏ทบ ุจุงููุฌุฑุฉ. ูู ุชูุงุฌุฑ ุฅูู ุงููุฏููุฉุ",
              choices: [{ text: "ูุนูุ ุฃูุงุฌุฑ", value: "hijrah" }, { text: "ุฃูุชุธุฑ ููููุงู", value: "delay" }] },

            { text: "ูฆ- ุชุตู ุฅูู ุงููุฏููุฉ ูุชุดุงุฑู ูู ุจูุงุก ุงููุณุฌุฏ ูุงููุคุงุฎุงุฉ.",
              choices: [{ text: "ุฃุณุงุนุฏ ูู ุงูุจูุงุก", value: "build" }, { text: "ุฃุดุงุฑู ูู ุงููุคุงุฎุงุฉ", value: "brotherhood" }] },

            { text: "ูง- ูุญูู ููุช ุบุฒูุฉ ุจุฏุฑ ุงููุจุฑู. ูู ุชูุถู ููุฌูุดุ",
              choices: [{ text: "ุฃูุถู ููุฌูุด", value: "badr_fighter" }, { text: "ุฃุจูู ูู ุงููุฏููุฉ", value: "badr_stay" }] },

            { text: "ูจ- ุงูููุงูุฉ",
              choices: [] }
        ];

        function showScenario(i) {
            const gameDiv = document.getElementById("game");

            if (i < scenarios.length - 1) {
                const s = scenarios[i];
                let html = `<div class="scenario"><p>${s.text}</p></div><div class="choices">`;

                s.choices.forEach((c) => {
                    html += `<button class="game-button" onclick="makeChoice('${c.value}', ${i+1})">${c.text}</button>`;
                });

                html += "</div>";
                gameDiv.innerHTML = html;
            } else {
                // ุชุญุฏูุฏ ุงูููุงูุฉ ุญุณุจ ุงูุงุฎุชูุงุฑุงุช
                let endingText = "๐ ุงูููุงูุฉ: ";

                if (choicesMade.includes("sabr")) {
                    endingText += "ุซุจุชูู ุนูู ุงูุตุจุฑ ูููุช ุฃุฌุฑูุง ุนุธูููุง.";
                } else if (choicesMade.includes("protection")) {
                    endingText += "ูุฌุฏุช ุญูุงูุฉ ููุงุฑุณุช ุฏููู ุจุฃูุงู.";
                } else if (choicesMade.includes("habasha")) {
                    endingText += "ูุงุฌุฑุช ุฅูู ุงูุญุจุดุฉ ููุฌุฏุช ุนุฏูุงู ุนูุฏ ุงููุฌุงุดู.";
                } else if (choicesMade.includes("badr_fighter")) {
                    endingText += "ุดุงุฑูุช ูู ุจุฏุฑ ูููุช ุดุฑู ุงููุตุฑ.";
                } else {
                    endingText += "ุจููุช ูู ุงููุฏููุฉ ุชุนูุด ูู ุณูุงู.";
                }

                let html = `<div class="scenario"><p>${endingText}</p></div>
                            <div class="choices">
                                <a href="{{ url_for('adventure') }}" class="game-button">๐ ุฅุนุงุฏุฉ ุงููุนุจ</a>
                                <a href="{{ url_for('home') }}" class="game-button">๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
                            </div>`;
                gameDiv.innerHTML = html;
            }
        }

        function makeChoice(value, nextIndex) {
            choicesMade.push(value);
            showScenario(nextIndex);
        }

        // ุงุจุฏุฃ ูู ุงููุฑุญูุฉ ุงูุฃููู
        showScenario(0);
    </script>
</body>
</html>
